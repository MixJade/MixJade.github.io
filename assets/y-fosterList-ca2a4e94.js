import{d as P,r as b,k as g,l as r,a as C,f as e,g as a,F as R,b as p,V as N,E as d,o as _,R as U,h as T,t as q,A as v,W as A,X as O}from"./index-d288b770.js";import{B as Q}from"./BackOpCol-2c7dd5f8.js";const W=()=>({records:[{fosterId:1,fosterCode:"12301121",petId:8,clientId:1,fosterTerm:"2023-01-28",fosterMoney:100,fosterInfo:"寄养波斯",createTime:null,updateTime:null,isDel:null,petName:"波二斯",clientName:"莹"},{fosterId:2,fosterCode:"12301122",petId:32,clientId:3,fosterTerm:"2023-01-13",fosterMoney:800,fosterInfo:"好好照顾",createTime:null,updateTime:null,isDel:null,petName:"布偶二",clientName:"散玉"},{fosterId:3,fosterCode:"12301123",petId:33,clientId:2,fosterTerm:"2023-07-28",fosterMoney:2e4,fosterInfo:"调教ing",createTime:null,updateTime:null,isDel:null,petName:"八重神子",clientName:"雷军"},{fosterId:4,fosterCode:"12301124",petId:5,clientId:4,fosterTerm:"2023-07-13",fosterMoney:300,fosterInfo:"",createTime:null,updateTime:null,isDel:null,petName:"雷电小兵",clientName:"狐狸"},{fosterId:5,fosterCode:"12301125",petId:32,clientId:3,fosterTerm:"2023-09-15",fosterMoney:200,fosterInfo:"有事外出",createTime:null,updateTime:null,isDel:null,petName:"布偶二",clientName:"散玉"}],total:5}),X=p("p",null,null,-1),j={key:1},G=p("p",null,null,-1),H=p("span",null,"It's a draggable Dialog",-1),J={class:"dialog-footer"},te=P({__name:"y-fosterList",setup(K){const s=b({petName:"",clientName:"",numPage:1,pageSize:7}),B=()=>{m()},k=()=>{console.log("添加寄养"),f.value="新增寄养",i.value=!0},w=()=>{console.log("批量删除"),N.confirm("在您做出指示之前，我还是要再次确认，您确定要焚毁这些的订单吗？","删除多个确认",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{d.success("删除成功")}).catch(()=>{d.info("删除取消")})},V=n=>{console.log("所删除的ID是",n),N.confirm("解脱一纸束缚的契约，赐予其尘归尘的命运。","删除单个确认",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{d.success("删除成功")}).catch(()=>{d.info("删除取消")})},I=b(W()),h=g([]),x=n=>{h.value=n.map(t=>t.fosterId),console.log(h.value)},D=n=>{console.log(`${n} items per page`),m()},z=n=>{console.log(`current page: ${n}`),m()},m=()=>{console.log(`当前的页面参数，
  页码：${s.numPage},大小：${s.pageSize}`)},i=g(!1),f=g("修改寄养"),M=()=>{i.value=!0,f.value="修改寄养"},y=n=>{const t=new Date,c=new Date(n);if(isNaN(c.getTime()))return"日期格式不对";if(t<c){const l=Math.abs(c.getTime()-t.getTime());return Math.ceil(l/(1e3*60*60*24))+"天"}else return"已过期"};return(n,t)=>{const c=r("el-input"),l=r("el-table-column"),S=r("el-tag"),u=r("el-button"),$=r("el-button-group"),E=r("el-table"),F=r("el-pagination"),L=r("el-dialog");return _(),C(R,null,[e(Q,{role:"寄养",onAddRole:k,onDelBatch:w,onQuery:B},{default:a(()=>[e(c,{modelValue:s.petName,"onUpdate:modelValue":t[0]||(t[0]=o=>s.petName=o),placeholder:"申请人",size:"large"},null,8,["modelValue"]),e(c,{modelValue:s.clientName,"onUpdate:modelValue":t[1]||(t[1]=o=>s.clientName=o),placeholder:"宠物名",size:"large"},null,8,["modelValue"])]),_:1}),X,e(E,{data:I.records,"max-height":"70vh","row-key":"fosterId",stripe:"",style:{width:"100%"},onSelectionChange:x},{default:a(()=>[e(l,{type:"selection",width:"30"}),e(l,{label:"订单号",prop:"fosterCode"}),e(l,{label:"到期时间",prop:"fosterTerm",sortable:""}),e(l,{label:"定金",prop:"fosterMoney",sortable:""}),e(l,{label:"订单备注",prop:"fosterInfo"}),e(l,{label:"宠物名",prop:"petName"}),e(l,{label:"寄养人",prop:"clientName"}),e(l,{label:"是否过期",prop:"fosterTerm",sortable:""},{default:a(o=>[y(o.row.fosterTerm)==="已过期"?(_(),U(S,{key:0,type:"danger"},{default:a(()=>[T("已过期")]),_:1})):(_(),C("span",j,q(y(o.row.fosterTerm)),1))]),_:1}),e(l,{fixed:"right",label:"操作"},{default:a(o=>[e($,null,{default:a(()=>[e(u,{icon:v(A),circle:"",type:"warning",onClick:M},null,8,["icon"]),e(u,{icon:v(O),circle:"",type:"danger",onClick:Y=>V(o.row.adoptId)},null,8,["icon","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),G,e(F,{"current-page":s.numPage,"page-size":s.pageSize,"page-sizes":[7,10,13,16],total:I.total,background:"","hide-on-single-page":"",layout:"total, sizes,prev, pager, next",onSizeChange:D,onCurrentChange:z},null,8,["current-page","page-size","total"]),e(L,{modelValue:i.value,"onUpdate:modelValue":t[4]||(t[4]=o=>i.value=o),title:f.value,draggable:"",width:"30%"},{footer:a(()=>[p("span",J,[e(u,{onClick:t[2]||(t[2]=o=>i.value=!1)},{default:a(()=>[T("取消")]),_:1}),e(u,{type:"primary",onClick:t[3]||(t[3]=o=>i.value=!1)},{default:a(()=>[T(" 确认 ")]),_:1})])]),default:a(()=>[H]),_:1},8,["modelValue","title"])],64)}}});export{te as default};
